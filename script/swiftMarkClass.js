function swiftMark(c,b){var a,e,d;this.id=c;this.Data=b;this.Ens={};d=$(this.Data.wrapper);if(this.determine()&&d){this.Ens.host=d;mk();if("undefined"==typeof this.Data.link){a=$A(d.select("a"));if(!a.length){this.terminate();return}a=a[0];e=a.select("img");if(!e.length){this.terminate();return}e=e[0];this.Data.link=a.href;this.Data.caption=a.getAttribute("title")||"QR Code";this.Data.qrcode=e.src}if(this.Data.link||this.Data.caption||this.Data.qrcode){d.Data={ClassID:this.id};d.id||(d.id="swiftMark-"+
this.id+getRand(1,1E4));d.getAttribute("data-position")?(a=d.getAttribute("data-position"),-1==this.legal.indexOf(a)&&d.setAttribute("data-position",this.legal[0])):d.setAttribute("data-position",this.legal[0]);e=this.template.cloneNode(!0);this.wc.ShadowDOM?(a=d[this.wc.ShadowDOM](),a.innerHTML="<style>"+this.cssStr+"</style>",this.Ens.sheet=a.querySelector("style"),a.appendChild(e),this.Ens.trigger=$(a.querySelector("a")),this.Ens.imgs=$A(a.querySelectorAll("img")),this.Ens.caption=$(a.querySelector("figcaption")),
this.Ens.overlay=$(a.querySelector(".sm-overlay"))):(empty(d),d.appendChild(mk("",{tag:"h3",att:{innerHTML:"swiftMark"}})),d.appendChild(e),this.Ens.trigger=d.select("a")[0],this.Ens.imgs=$A(d.select("img")),this.Ens.caption=d.select("figcaption")[0],this.Ens.overlay=d.select(".sm-overlay")[0]);this.Ens.trigger.href=this.Data.link;this.Ens.trigger.setAttribute("title",this.Data.caption);this.Ens.caption.innerHTML=this.Data.caption;a=-1;for(e=this.Ens.imgs.length;++a<e;)this.Ens.imgs[a].src=this.Data.qrcode;
this.Ens.trigger.Data={ClassID:this.id};this.Ens.overlay.Data={ClassID:this.id};this.Ens.trigger.observe("click",this.eActG);this.Ens.overlay.observe("click",this.eActG);"undefined"!=typeof this.anis&&this.Ens.overlay.observe(this.anis.eventTransition,this.tEndG);"function"!=typeof d.expand&&(d.expand=swiftMark.prototype.expandG);d.removeAttribute("hidden")}else this.terminate()}}
swiftMark.prototype={legal:["bottom-right","top-left","top-right","bottom-left"],dependencies:["Prototype","HO"],determine:function(){if("undefined"==typeof swiftMark.prototype.isSupport){var c=isAniSupport(),b=[],a={};swiftMark.prototype.anis=c;swiftMark.prototype.wc=supportsWebComponents();swiftMark.prototype.isSupport=!0;"undefined"!=typeof c?(a.figureOrignTL=c.origin+":0% 0%;",a.figureOrignTR=c.origin+":100% 0%;",a.figureOrignBL=c.origin+":0% 100%;",a.figureOrignBR=c.origin+":100% 100%;",a.figureTransition=
c.transition+":"+c.transform+" 450ms cubic-bezier(.76,-0.62,.6,1.49),opacity 450ms cubic-bezier(.76,-0.62,.6,1.49);",a.figureTransform=c.transform+":scale(.01);",a.figureAct=c.transform+":scale(1);",a.overlay=c.transition+":opacity 450ms cubic-bezier(.76,-0.62,.6,1.49);"):(a.figureOrignTL="",a.figureOrignTR="",a.figureOrignBL="",a.figureOrignBR="",a.figureTransform="",a.figureAct="",a.overlay="");createCSSClass("swiftmark-module","position:fixed;right:0px;bottom:0px;width:2.5vmin;padding:1vmin;display:block;user-select:none;-webkit-user-select:none;z-index:100;");
createCSSClass("swiftmark-module h3","display:none");createCSSClass('swiftmark-module[data-position="top-left"]',"left:0px;top:0px;right:auto;bottom:auto;");createCSSClass('swiftmark-module[data-position="top-right"]',"right:0px;top:0px;bottom:auto;");createCSSClass('swiftmark-module[data-position="bottom-left"]',"left:0px;bottom:0px;right:auto;");createCSSClass('swiftmark-module[data-position="bottom-right"]',"right:0px;bottom:0px;");this.wc.ShadowDOM?(b.push({k:"h3",v:"display:none;"}),b.push({k:":host figure",
v:a.figureOrignBR+"left:-24.2vmin;bottom:0;"}),b.push({k:':host([data-position="top-left"]) figure',v:a.figureOrignTL+"left:5.5vmin;top:0;bottom:auto;"}),b.push({k:':host([data-position="top-right"]) figure',v:a.figureOrignTR+"left:-24.2vmin;top:0;bottom:auto;"}),b.push({k:':host([data-position="bottom-left"]) figure',v:a.figureOrignBL+"left:5.5vmin;bottom:0;"}),b.push({k:':host([data-position="bottom-right"]) figure',v:a.figureOrignBR+"left:-24.2vmin;bottom:0;"}),b.push({k:"img",v:"width:100%;height:auto;display:block;"}),
b.push({k:"figure",v:"pointer-events:none;opacity:0;position:absolute;background:rgba(0,0,0,.8);color:#fff;border-radius:10px;padding:10px;padding:1.6vmin;padding-bottom:0;display:block;z-index:-1;box-shadow:0px 0px 6px rgba(0,0,0,.3);"+a.figureTransition+a.figureTransform}),b.push({k:"figure img",v:"width:20vmin;display:block;"}),b.push({k:"figcaption",v:"font-size:2.5vmin;line-height:1.6;text-align:center;"}),b.push({k:"figure:after",v:'position:absolute;font-size:0;width:0;height:0;border:10px solid transparent;text-indent:100%;white-space:nowrap;_filter:chroma(color=pink);_border-color:pink;content:"";'}),
b.push({k:".sm-overlay",v:"position:fixed;left:0px;top:0px;width:100%;height:0;background:rgba(0,0,0,.3);text-indent:100%;white-space:nowrap;overflow:hidden;visibility:hidden;opacity:0;"+a.overlay}),b.push({k:":host(.act) figure",v:"opacity:1;z-index:auto;"+a.figureAct}),b.push({k:":host(.act) .sm-overlay",v:"height:100%;opacity:1;visibility:visible;"}),b.push({k:":host(.off) .sm-overlay",v:"height:100%;opacity:0;visibility:visible;"}),b.push({k:":host figure:after",v:"right:-20px;bottom:10px;border-left-color:#000;border-left-color:rgba(0,0,0,.8);"}),
b.push({k:':host([data-position="bottom-right"]) figure:after',v:"right:-20px;bottom:10px;border-left-color:#000;border-left-color:rgba(0,0,0,.8);"}),b.push({k:':host([data-position="bottom-left"]) figure:after',v:"left:-20px;bottom:10px;border-right-color:#000;border-right-color:rgba(0,0,0,.8);border-left-color:transparent;right:auto;"}),b.push({k:':host([data-position="top-left"]) figure:after',v:"left:-20px;top:10px;border-right-color:#000;border-right-color:rgba(0,0,0,.8);border-left-color:transparent;right:auto;bottom:auto;"}),
b.push({k:':host([data-position="top-right"]) figure:after',v:"right:-20px;top:10px;border-left-color:#000;border-left-color:rgba(0,0,0,.8);bottom:auto;"})):(b.push({k:"swiftmark-module figure",v:a.figureOrignBR+"left:-24.2vmin;bottom:0;"}),b.push({k:'swiftmark-module[data-position="top-left"] figure',v:a.figureOrignTL+"left:5.5vmin;top:0;bottom:auto;"}),b.push({k:'swiftmark-module[data-position="top-right"] figure',v:a.figureOrignTR+"left:-24.2vmin;top:0;bottom:auto;"}),b.push({k:'swiftmark-module[data-position="bottom-left"] figure',
v:a.figureOrignBL+"left:5.5vmin;bottom:0;"}),b.push({k:'swiftmark-module[data-position="bottom-right"] figure',v:a.figureOrignBR+"left:-24.2vmin;bottom:0;"}),b.push({k:"swiftmark-module img",v:"width:100%;height:auto;display:block;"}),b.push({k:"swiftmark-module figure",v:"pointer-events:none;opacity:0;position:absolute;background:rgba(0,0,0,.8);color:#fff;border-radius:10px;padding:10px;padding:1.6vmin;padding-bottom:0;display:block;z-index:-1;box-shadow:0px 0px 6px rgba(0,0,0,.3);"+a.figureTransition+
a.figureTransform}),b.push({k:"swiftmark-module figure img",v:"width:20vmin;display:block;"}),b.push({k:"swiftmark-module figcaption",v:"font-size:2.5vmin;line-height:1.6;text-align:center;"}),b.push({k:"swiftmark-module figure:after",v:'position:absolute;font-size:0;width:0;height:0;border:10px solid transparent;text-indent:100%;white-space:nowrap;_filter:chroma(color=pink);_border-color:pink;content:"";'}),b.push({k:"swiftmark-module .sm-overlay",v:"position:fixed;left:0px;top:0px;width:100%;height:0;background:rgba(0,0,0,.3);text-indent:100%;white-space:nowrap;overflow:hidden;visibility:hidden;opacity:0;"+
a.overlay}),b.push({k:"swiftmark-module.act figure",v:"opacity:1;z-index:auto;"+a.figureAct}),b.push({k:"swiftmark-module.act .sm-overlay",v:"height:100%;opacity:1;visibility:visible;"}),b.push({k:"swiftmark-module.off .sm-overlay",v:"height:100%;opacity:0;visibility:visible;"}),b.push({k:"swiftmark-module figure:after",v:"right:-20px;bottom:10px;border-left-color:#000;border-left-color:rgba(0,0,0,.8);"}),b.push({k:'swiftmark-module[data-position="bottom-right"] figure:after',v:"right:-20px;bottom:10px;border-left-color:#000;border-left-color:rgba(0,0,0,.8);"}),
b.push({k:'swiftmark-module[data-position="bottom-left"] figure:after',v:"left:-20px;bottom:10px;border-right-color:#000;border-right-color:rgba(0,0,0,.8);border-left-color:transparent;right:auto;"}),b.push({k:'swiftmark-module[data-position="top-left"] figure:after',v:"left:-20px;top:10px;border-right-color:#000;border-right-color:rgba(0,0,0,.8);border-left-color:transparent;right:auto;bottom:auto;"}),b.push({k:'swiftmark-module[data-position="top-right"] figure:after',v:"right:-20px;top:10px;border-left-color:#000;border-left-color:rgba(0,0,0,.8);bottom:auto;"}));
a.buffer=mk();a.trigger=mk("",{tag:"a"});a.buffer.appendChild(a.trigger);a.img=mk("",{tag:"img"});a.trigger.appendChild(a.img);a.overlay=mk("sm-overlay",{att:{innerHTML:"overlay"}});a.buffer.appendChild(a.overlay);a.figure=mk("",{tag:"figure"});a.buffer.appendChild(a.figure);a.figure.appendChild(mk("",{tag:"img"}));a.figure.appendChild(mk("",{tag:"figcaption"}));swiftMark.prototype.template=a.buffer;if(this.wc.ShadowDOM){for(a.cssStr="h3,div,figure{display:block;margin:0;padding:0;}img{border:0}a{text-decoration:none}a:hover{text-decoration:underline;}";b.length;)c=
b.shift(),a.cssStr+=c.k+"{"+c.v+"}";swiftMark.prototype.cssStr=a.cssStr}else for(;b.length;)c=b.shift(),createCSSClass(c.k,c.v);for(var e in a)a[e]=null;this.activeCustomElement()}return swiftMark.prototype.isSupport},activeCustomElement:function(){if(!swiftMark.prototype.activeCE){var c=["","webkit","moz","o","ms"],b="",a;swiftMark.prototype.activeCE=!0;a=-1;for(var e=c.length;++a<e;){var d=c[a],f="registerElement",f=d.length?"registerElement".replace(/^[a-z]{1}/,function(a){return a.toLocaleUpperCase()}):
"registerElement",d=d+f;if(document[d]){b=d;break}}"undefined"==typeof OswiftMark&&(OswiftMark={});if(b)a=Object.create(HTMLElement.prototype),a.attachedCallback=function(){var a,b,c;this.mid=a="M"+getRand(1,1E4)+"-"+getRand(1,1E4);b={wrapper:this,pos:"bottom-right"};if(this.hasAttribute("data-conf")){try{c=JSON.parse(this.getAttribute("data-conf"))}catch(d){c={}}for(var e in c)b[e]=c[e],c[e]=null;this.removeAttribute("data-conf")}OswiftMark["swiftMark"+a]=new swiftMark(a,b)},a.detachedCallback=function(){"undefined"!=
typeof this.mid&&OswiftMark["swiftMark"+this.mid].terminate()},a.expand=swiftMark.prototype.expandG,document[b]("swiftmark-module",{prototype:a});else for(b=$$("swiftmark-module"),a=-1,e=b.length;++a<e;){var d=b[a],g,f="M"+getRand(1,1E4)+"-"+getRand(1,1E4),c={wrapper:d,pos:"bottom-right"};if(d.hasAttribute("data-conf")){try{g=JSON.parse(d.getAttribute("data-conf"))}catch(k){g={}}for(var h in g)c[h]=g[h],g[h]=null;g=null;d.removeAttribute("data-conf")}OswiftMark["swiftMark"+f]=new swiftMark(f,c)}}},
terminate:function(){var c=this.id;this.Ens.trigger.stopObserving();this.Ens.overlay.stopObserving();setTimeout(function(){var b=OswiftMark["swiftMark"+c];purge(b.Data);for(var a in b.Ens)b.Ens[a]=null;b.id=b.Data=b.Ens=null;try{delete OswiftMark["swiftMark"+c]}catch(e){}},100)},eActG:function(c){var b=tNa(c,"a");b.t||(b=tNa(c,"sm-overlay","c"));(b=getIns(b.t,"swiftMark"))&&b.eAct(c)},eAct:function(c){stopEvents(c);this.expand()},tEndG:function(c){var b=tNa(c);(b=getIns(b.t,"swiftMark"))&&b.tEnd(c)},
tEnd:function(c){this.Ens.host.hasClassName("off")&&this.Ens.host.removeClassName("off")},expandG:function(c){var b=getIns(this,"swiftMark");b&&b.expand(c)},expand:function(c){(c=c||"")||(c=this.Ens.host.hasClassName("act")?"off":"on");switch(c){case "on":this.Ens.host.removeClassName("off");this.Ens.host.addClassName("act");break;case "off":this.Ens.host.addClassName("off"),this.Ens.host.removeClassName("act")}}};
(function(){var c,b=0;"undefined"==typeof navigator.oRegists&&(navigator.oRegists={});c=swiftMark.prototype.dependencies;navigator.oRegists.swiftMark=setInterval(function(){var a=!0;b+=5;if(1E4<=b)clearInterval(navigator.oRegists.swiftMark);else{for(var e=-1,d=c.length;++e<d;){for(var f=window,g=c[e].split(".");g.length;){var h=g.shift();if(f[h])f=f[h];else{f=null;break}}a&=null!=f}a&&document.body&&(clearInterval(navigator.oRegists.swiftMark),navigator.oRegists.swiftMark=null,swiftMark.prototype.determine())}},
5)})();/*programed by mei(李維翰), http://www.facebook.com/mei.studio.li*/